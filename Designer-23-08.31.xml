<project>
    <shortName>Designer</shortName>
    <fullName>Shure Designer</fullName>
    <version>999.0.0.11</version>
    <installerFilename>Shure${product_shortname}_${product_version}_${InstallPackagePlatform}_InstallBuilder.${platform_exec_suffix}</installerFilename>
    <debugLevel>4</debugLevel>
    <leftImage>icon/leftImage.png</leftImage>
    <logoImage>icon/logoImage.png</logoImage>
    <splashImage>icon/splashImage.png</splashImage>
    <wmImage>icon/logoImage.png</wmImage>
    <componentList>
        <component>
            <name>Designer</name>
            <description>Designer</description>
            <canBeEdited>1</canBeEdited>
            <selected>1</selected>
            <show>1</show>
            <folderList>
                <folder>
                    <description>win-x64</description>
                    <destination>${system_temp_directory}</destination>
                    <name>winx64</name>
                    <platforms>windows-x64</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>win-x64/${FileExecutable}</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>win-x64/${VCRuntimeExecutable}</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>icon/dng-app-icon-64.ico</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>mac-x64</description>
                    <destination>${installdir}</destination>
                    <name>macx64</name>
                    <platforms>osx</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>mac-x64/Shure Designer Desktop.app</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>mac-x64/update_rdf.sh</origin>
                        </distributionFile>
                    </distributionFileList>
                    <shouldPackRuleList>
                        <compareText>
                            <logic>does_not_equal</logic>
                            <text>${InstallPackagePlatform}</text>
                            <value>Mac-arm64</value>
                        </compareText>
                    </shouldPackRuleList>
                </folder>
                <folder>
                    <description>mac-arm64</description>
                    <destination>${installdir}</destination>
                    <name>macarm64</name>
                    <platforms>osx</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>mac-arm64/Shure Designer Desktop.app</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>mac-arm64/update_rdf.sh</origin>
                        </distributionFile>
                    </distributionFileList>
                    <shouldPackRuleList>
                        <compareText>
                            <logic>does_not_equal</logic>
                            <text>${InstallPackagePlatform}</text>
                            <value>Mac-x64</value>
                        </compareText>
                    </shouldPackRuleList>
                </folder>
            </folderList>
        </component>
    </componentList>
    <preBuildActionList>
        <setInstallerVariable>
            <name>InstallPackagePlatform</name>
            <value>Win-x64</value>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${platform_name}</text>
                    <value>windows-x64</value>
                </compareText>
            </ruleList>
        </setInstallerVariable>
        <setInstallerVariable>
            <name>InstallPackagePlatform</name>
            <value>Mac-x64</value>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${platform_name}</text>
                    <value>osx</value>
                </compareText>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${project.osxplatforms}</value1>
                    <value2>osx-x86_64</value2>
                </compareValues>
            </ruleList>
        </setInstallerVariable>
        <setInstallerVariable>
            <name>InstallPackagePlatform</name>
            <value>Mac-arm64</value>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${platform_name}</text>
                    <value>osx</value>
                </compareText>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${project.osxplatforms}</value1>
                    <value2>osx-arm64</value2>
                </compareValues>
            </ruleList>
        </setInstallerVariable>
        <actionGroup>
            <explanation>Win-x64</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>FileExecutable</name>
                    <value>Shure Designer Desktop-x64.exe</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>VCRuntimeExecutable</name>
                    <value>VC_redist.x64.exe</value>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${InstallPackagePlatform}</value1>
                    <value2>Win-x64</value2>
                </compareValues>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>executable</name>
                    <value>Shure Designer Desktop.app</value>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
    </preBuildActionList>
    <initializationActionList>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <text>

Entering Initialization... 

</text>
            <timeStampFormat></timeStampFormat>
        </logMessage>
        <actionGroup>
            <explanation>Win Upgrade Check</explanation>
            <actionList>
                <registryGet>
                    <key>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\Shure Designer 6</key>
                    <name>DisplayVersion</name>
                    <variable>PreviousVersion</variable>
                </registryGet>
                <setInstallerVariable>
                    <name>NewVersion</name>
                    <value>${project.version}</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>project.installationType</name>
                    <value>upgrade</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting project.InstallationType</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                    <ruleList>
                        <compareVersions>
                            <logic>greater</logic>
                            <version1>${NewVersion}</version1>
                            <version2>${PreviousVersion}</version2>
                        </compareVersions>
                    </ruleList>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
                <fileExists>
                    <path>${windows_folder_local_appdata}\Programs\shure.designer-desktop\Shure Designer Desktop.exe</path>
                </fileExists>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>Mac Update Check</explanation>
            <actionList>
                <setInstallerVariableFromScriptOutput>
                    <exec>defaults</exec>
                    <execArgs>read /Applications/Shure/Designer/Shure\ Designer\ Desktop.app/Contents/Info.plist CFBundleShortVersionString</execArgs>
                    <name>PreviousVersion</name>
                </setInstallerVariableFromScriptOutput>
                <setInstallerVariable>
                    <name>NewVersion</name>
                    <value>${project.version}</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>project.installationType</name>
                    <value>upgrade</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting project.InstallationType</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                    <ruleList>
                        <compareVersions>
                            <logic>greater</logic>
                            <version1>${NewVersion}</version1>
                            <version2>${PreviousVersion}</version2>
                        </compareVersions>
                    </ruleList>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
                <fileExists>
                    <path>Applications/Shure/Designer/Shure Designer Desktop.app</path>
                </fileExists>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>welcome screen config</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>welcomeTitle</name>
                    <value>Welcome to the ${product_fullname} Installer</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>welcomeText1</name>
                    <value>You will be guided through the necessary steps to install ${product_fullname}.</value>
                </setInstallerVariable>
            </actionList>
        </actionGroup>
        <actionGroup>
            <explanation>welcome upgrade screen config</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>welcomeTitle</name>
                    <value>Welcome to the ${product_fullname} Upgrade Wizard</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>welcomeText1</name>
                    <value>You will be guided through the necessary steps to upgrade ${product_fullname}.</value>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${project.installationType}</value1>
                    <value2>upgrade</value2>
                </compareValues>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>Ready to install screen config</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>readyTitle</name>
                    <value>Ready to Install</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>readyText1</name>
                    <value>Ready to Install ${product_fullname}</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>installingTitle</name>
                    <value>Installing ${product_fullname}</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>installingText1</name>
                    <value>Please wait while Setup installs ${product_fullname} on your computer.</value>
                </setInstallerVariable>
            </actionList>
        </actionGroup>
        <actionGroup>
            <explanation>Ready to upgrade screen config</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>readyTitle</name>
                    <value>Ready to Upgrade</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>readyText1</name>
                    <value>Ready to Upgrade ${product_fullname}</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>installingTitle</name>
                    <value>Upgrading ${product_fullname}</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>installingText1</name>
                    <value>Please wait while Setup upgrades ${product_fullname} on your computer.</value>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${project.installationType}</value1>
                    <value2>upgrade</value2>
                </compareValues>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>win-x64 checks (disabled intentional)</explanation>
            <run>0</run>
            <actionList>
                <throwError>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <text>Processor needs have at least 4 cores.</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_cpu_count}</value1>
                            <value2>4</value2>
                        </compareValues>
                    </ruleList>
                </throwError>
                <throwError>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <text>Processor needs to be atleast 2Ghz</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_cpu_speed}</value1>
                            <value2>2000</value2>
                        </compareValues>
                    </ruleList>
                </throwError>
                <throwError>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <text>Windows 10 or 11 Profession or Enterprise Versions.</text>
                    <ruleList>
                        <ruleGroup>
                            <ruleList>
                                <platformTest>
                                    <negate>1</negate>
                                    <type>windows-11</type>
                                </platformTest>
                                <platformTest>
                                    <negate>1</negate>
                                    <type>windows-10</type>
                                </platformTest>
                            </ruleList>
                        </ruleGroup>
                        <compareText>
                            <logic>does_not_contain</logic>
                            <text>Professional,Enterprise</text>
                            <value>${windows_os_flavor}</value>
                        </compareText>
                    </ruleList>
                </throwError>
                <throwError>
                    <text>8 Gigbytes are required for Shure Designer.</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_total_memory}</value1>
                            <value2>8192</value2>
                        </compareValues>
                    </ruleList>
                </throwError>
                <showWarning>
                    <text>At least 16GB of RAM is recommended.</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_total_memory}</value1>
                            <value2>16384</value2>
                        </compareValues>
                    </ruleList>
                </showWarning>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows-x64</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>win-x64</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>LogFilePath</name>
                    <value>${windows_folder_local_appdata}\Shure\${product_fullname}\Logs\Installer</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting LogFilePath</text>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <createDirectory>
                    <path>${LogFilePath}</path>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error creating directory ${LogFilePath}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </createDirectory>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Creating directory ${LogFilePath}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Log file placed at ${LogFilePath}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Checking for another version of designer app running</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>
Creating log file name:</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <createTimeStamp>
                    <format>%Y%m%d%H%M%S</format>
                    <variable>time</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error creating timestamp</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </createTimeStamp>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>time set to ${time}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <setInstallerVariable>
                    <name>logname</name>
                    <value>installer_${time}.log</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error renaming log file</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>logname: ${logname}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows-x64</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac non-architecture checks (disabled intentionally)</explanation>
            <run>0</run>
            <actionList>
                <throwError>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <text>Processor needs have at least 4 cores.</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_cpu_count}</value1>
                            <value2>4</value2>
                        </compareValues>
                    </ruleList>
                </throwError>
                <throwError>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <text>Processor needs to be atleast 2Ghz</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_cpu_speed}</value1>
                            <value2>2000</value2>
                        </compareValues>
                    </ruleList>
                </throwError>
                <throwError>
                    <text>8 Gigbytes are required for Shure Designer.</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_total_memory}</value1>
                            <value2>8192</value2>
                        </compareValues>
                    </ruleList>
                </throwError>
                <showWarning>
                    <text>At least 16GB of RAM is recommended.</text>
                    <ruleList>
                        <compareValues>
                            <logic>less</logic>
                            <value1>${machine_total_memory}</value1>
                            <value2>16384</value2>
                        </compareValues>
                    </ruleList>
                </showWarning>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>LogFilePath</name>
                    <value>${user_home_directory}/Library/Logs/Shure/${product_fullname}</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting LogFilePath</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <createDirectory>
                    <path>${LogFilePath}</path>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error creating directory ${LogFilePath}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </createDirectory>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Creating directory ${LogFilePath}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Log file placed at ${LogFilePath}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <setInstallerVariableFromScriptOutput>
                    <exec>sudo</exec>
                    <execArgs>-u ${system_username} sysctl -n machdep.cpu.brand_string</execArgs>
                    <name>MacArchitectureTest</name>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error running Mac Architecture test</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariableFromScriptOutput>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Checking Mac Architecture:</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <setInstallerVariable>
                    <name>MacArchitecture</name>
                    <value>osx-arm64</value>
                    <ruleList>
                        <compareText logic="does_not_contain" text="${MacArchitectureTest}" value="Intel"/>
                    </ruleList>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>MacArchitecture</name>
                    <value>osx-x86_64</value>
                    <ruleList>
                        <compareText logic="contains" text="${MacArchitectureTest}" value="Intel"/>
                    </ruleList>
                </setInstallerVariable>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>MacArchitecture detected as ${MacArchitecture}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>
Creating log file name: </text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <createTimeStamp>
                    <format>%Y%m%d%H%M%S</format>
                    <variable>time</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error creating time</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </createTimeStamp>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>time set to ${time}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <setInstallerVariable>
                    <name>logname</name>
                    <value>installer_${time}.log</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error creating logname variable</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>log name: ${logname}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Checking if a version of Shure Designer 6.x is running</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-x64</explanation>
            <actionList>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Checking if installpackageplatform is set to x64 (mac-x86_64)</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <throwError>
                    <text>the osx-x64 version is required to install on this platform.</text>
                    <ruleList>
                        <compareText>
                            <logic>does_not_equal</logic>
                            <text>${InstallPackagePlatform}</text>
                            <value>Mac-x64</value>
                        </compareText>
                    </ruleList>
                </throwError>
            </actionList>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${MacArchitecture}</text>
                    <value>osx-x86_64</value>
                </compareText>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-arm64</explanation>
            <actionList>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Checking if installpackageplatform is set to arm64 (mac-arm64)</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <throwError>
                    <text>the osx-arm64 version is required to install on this platform.</text>
                    <ruleList>
                        <compareText>
                            <logic>does_not_equal</logic>
                            <text>${InstallPackagePlatform}</text>
                            <value>Mac-arm64</value>
                        </compareText>
                    </ruleList>
                </throwError>
            </actionList>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${MacArchitecture}</text>
                    <value>osx-arm64</value>
                </compareText>
            </ruleList>
        </actionGroup>
    </initializationActionList>
    <preInstallationActionList>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <text>

Entering Pre-Installation Actions... 

</text>
            <timeStampFormat></timeStampFormat>
        </logMessage>
        <actionGroup>
            <explanation>win-x64</explanation>
            <actionList>
                <registryGet>
                    <key>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\Shure Designer 6</key>
                    <name>DisplayVersion</name>
                    <variable>PreviousVersion</variable>
                </registryGet>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Currently installed version set to ${PreviousVersion}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <actionGroup>
                    <explanation>Version Check</explanation>
                    <actionList>
                        <setInstallerVariable>
                            <name>NewVersion</name>
                            <value>${project.version}</value>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting ${NewVersion}</text>
                                    <timeStampFormat></timeStampFormat>
                                    <ruleList>
                                        <compareText>
                                            <logic>equals</logic>
                                            <text>${MacArchitecture}</text>
                                            <value>osx-x86_64</value>
                                        </compareText>
                                    </ruleList>
                                </logMessage>
                            </onErrorActionList>
                        </setInstallerVariable>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>
Entered Version Check. New Version (Installer Version) set to ${NewVersion}:</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Checking for downgrade</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <throwError>
                            <text>A newer version of Designer, ${PreviousVersion}, is already installed. Installer will exit.</text>
                            <ruleList>
                                <compareVersions>
                                    <logic>greater</logic>
                                    <version1>${PreviousVersion}</version1>
                                    <version2>${NewVersion}</version2>
                                </compareVersions>
                            </ruleList>
                        </throwError>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Show Question Dialogue for uninstalling previous version</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <setInstallerVariable>
                            <name>project.installationType</name>
                            <value>upgrade</value>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting project.InstallationType</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </setInstallerVariable>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Project installation type set to 'upgrade'</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </actionList>
                    <ruleList>
                        <stringTest>
                            <text>${PreviousVersion}</text>
                            <type>not_empty</type>
                        </stringTest>
                    </ruleList>
                </actionGroup>
                <setInstallerVariable>
                    <name>VCRuntimeExecutable</name>
                    <value>VC_redist.x64.exe</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting ${VCRuntimeExecutable}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>FileExecutable</name>
                    <value>Shure Designer Desktop-x64.exe</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting ${FileExecutable}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>FileExecutable set to ${FileExecutable}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <unpackFile>
                    <addToUninstaller>0</addToUninstaller>
                    <component>Designer</component>
                    <destination>${system_temp_directory}\</destination>
                    <folder>winx64</folder>
                    <origin>${VCRuntimeExecutable}</origin>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error Unpacking ${VCRuntimeExecutable} to ${system_temp_directory}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </unpackFile>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Unpacking VCRuntimeExecutable to system_temp_directory</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <unpackFile>
                    <addToUninstaller>0</addToUninstaller>
                    <component>Designer</component>
                    <destination>${system_temp_directory}\</destination>
                    <folder>winx64</folder>
                    <origin>${FileExecutable}</origin>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error Unpacking ${FileExecutable} to ${system_temp_directory}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </unpackFile>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Unpacking FileExetuable to system_temp_directory</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <setInstallerVariable>
                    <name>Ver</name>
                    <value>${windows_os_name} | ${windows_os_version_number}</value>
                </setInstallerVariable>
                <registryGet>
                    <key>HKEY_LOCAL_MACHINE\HARDWARE\DESCRIPTION\System\CentralProcessor\0</key>
                    <name>ProcessorNameString</name>
                    <variable>CPU</variable>
                </registryGet>
                <getFreeDiskSpace>
                    <path>C:\</path>
                    <units>GB</units>
                    <variable>FreeDisk</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error getting free disk space and setting FreeDisk to ${FreeDisk}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </getFreeDiskSpace>
                <setInstallerVariableFromScriptOutput>
                    <exec>tzutil</exec>
                    <execArgs>/g</execArgs>
                    <name>zone of time</name>
                </setInstallerVariableFromScriptOutput>
                <actionGroup>
                    <explanation>Win Rollback Creation</explanation>
                    <actionList>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback/</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback/Logs</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback/Preferences</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback/App</path>
                            <run>0</run>
                            <show>0</show>
                        </createDirectory>
                        <copyFile>
                            <destination>${system_temp_directory}/Shure/Designer Rollback/Logs/</destination>
                            <origin>${LogFilePath}</origin>
                            <ruleList>
                                <fileExists>
                                    <path>${LogFilePath}</path>
                                </fileExists>
                            </ruleList>
                        </copyFile>
                        <copyFile>
                            <destination>${system_temp_directory}/Shure/Designer Rollback/Preferences</destination>
                            <origin>${windows_folder_appdata}/shure.designer-desktop</origin>
                            <ruleList>
                                <fileExists>
                                    <path>${windows_folder_appdata}/shure.designer-desktop</path>
                                </fileExists>
                            </ruleList>
                        </copyFile>
                        <copyFile>
                            <destination>${system_temp_directory}/Shure/Designer Rollback/App</destination>
                            <origin>${windows_folder_local_appdata}\Programs\shure.designer-desktop</origin>
                            <ruleList>
                                <fileExists>
                                    <path>${windows_folder_local_appdata}\Programs\shure.designer-desktop\Shure Designer Desktop.exe</path>
                                </fileExists>
                            </ruleList>
                        </copyFile>
                        <setInstallerVariable>
                            <name>AppExists</name>
                            <run>0</run>
                            <show>0</show>
                            <value>1</value>
                            <ruleList>
                                <fileExists>
                                    <path>${windows_folder_local_appdata}\Programs\shure.designer-desktop\Shure Designer Desktop.exe</path>
                                </fileExists>
                            </ruleList>
                        </setInstallerVariable>
                    </actionList>
                </actionGroup>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows-x64</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <actionGroup>
                    <explanation>Mac Rollback Creation</explanation>
                    <actionList>
                        <logMessage>
                            <text>Creating rollback folders</text>
                        </logMessage>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback/Logs</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback/Preferences</path>
                        </createDirectory>
                        <createDirectory>
                            <path>${system_temp_directory}/Shure/Designer Rollback/App</path>
                            <run>0</run>
                            <show>0</show>
                        </createDirectory>
                        <copyFile>
                            <destination>${system_temp_directory}/Shure/Designer Rollback/Logs</destination>
                            <origin>${LogFilePath}</origin>
                            <ruleList>
                                <fileExists>
                                    <path>${LogFilePath}</path>
                                </fileExists>
                            </ruleList>
                        </copyFile>
                        <copyFile>
                            <destination>${system_temp_directory}/Shure/Designer Rollback/Preferences</destination>
                            <origin>${user_home_directory}/Library/Application Support/shure.designer-desktop/</origin>
                            <ruleList>
                                <fileExists>
                                    <path>${user_home_directory}/Library/Application Support/shure.designer-desktop/</path>
                                </fileExists>
                            </ruleList>
                        </copyFile>
                        <copyFile>
                            <destination>${system_temp_directory}/Shure/Designer Rollback/App</destination>
                            <origin>/Applications/Shure/Designer/</origin>
                            <ruleList>
                                <fileExists>
                                    <path>/Applications/Shure/Designer/Shure Designer Desktop.app</path>
                                </fileExists>
                            </ruleList>
                        </copyFile>
                        <setInstallerVariable>
                            <name>AppExists</name>
                            <run>0</run>
                            <show>0</show>
                            <value>1</value>
                            <ruleList>
                                <fileExists>
                                    <path>/Applications/Shure/Designer/Shure Designer Desktop.app</path>
                                </fileExists>
                            </ruleList>
                        </setInstallerVariable>
                    </actionList>
                </actionGroup>
                <setInstallerVariable>
                    <name>LogFilePath</name>
                    <value>${user_home_directory}/Library/Logs/Shure/${product_fullname}</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting LogFilePath</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>LogFilePath set to ${LogFilePath}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <setInstallerVariableFromScriptOutput>
                    <exec>sysctl</exec>
                    <execArgs>-n machdep.cpu.brand_string
</execArgs>
                    <name>CPU</name>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error running get CPU, and/or setting CPU to ${CPU}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariableFromScriptOutput>
                <getFreeDiskSpace>
                    <path>/</path>
                    <units>GB</units>
                    <variable>FreeDisk</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error getting free disk space and setting FreeDisk to ${FreeDisk}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </getFreeDiskSpace>
                <setInstallerVariableFromScriptOutput>
                    <exec>sudo</exec>
                    <execArgs>-u ${system_username} date +'%Z'</execArgs>
                    <name>Timezone</name>
                </setInstallerVariableFromScriptOutput>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>Log input</explanation>
            <actionList>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Installer information:</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>System Timezone: ${zone of time}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>CPU: ${CPU}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Version: macOS ${osx_version}</text>
                    <timeStampFormat></timeStampFormat>
                    <ruleList>
                        <platformTest>
                            <type>osx</type>
                        </platformTest>
                    </ruleList>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Version: ${Ver}</text>
                    <timeStampFormat></timeStampFormat>
                    <ruleList>
                        <platformTest>
                            <type>windows</type>
                        </platformTest>
                    </ruleList>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Free Disk Space: ${FreeDisk} GBs</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>RAM: ${machine_total_memory} MBs</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </actionList>
        </actionGroup>
    </preInstallationActionList>
    <readyToInstallActionList>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <text>

Entering Ready to Install Actions... 

</text>
            <timeStampFormat></timeStampFormat>
        </logMessage>
        <setInstallerVariable>
            <name>restartRequired</name>
            <ruleEvaluationLogic>or</ruleEvaluationLogic>
            <value>0</value>
        </setInstallerVariable>
        <actionGroup>
            <explanation>win-x64</explanation>
            <actionList>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Checks for 5GB of free disk space</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <throwError>
                    <text>Need at least 5GB of free disk space</text>
                    <ruleList>
                        <checkFreeDiskSpace>
                            <logic>less</logic>
                            <path>${install_dir}</path>
                            <size>5</size>
                            <units>GB</units>
                        </checkFreeDiskSpace>
                    </ruleList>
                </throwError>
                <actionGroup>
                    <explanation>Firewall Setup</explanation>
                    <actionList>
                        <logMessage>
                            <text>Setting up Shure Designer 6 - Device Management firewall for Designer</text>
                        </logMessage>
                        <runProgram>
                            <program>netsh.exe</program>
                            <programArguments>advfirewall firewall add rule name="Shure Designer 6 - Device Management" dir=in action=allow program="${windows_folder_local_appdata}\shuregql-nodejs\Cache\phoenix-server\13.0.5-0\bin\Windows\x86_64\VS2019\Win10\ShureDeviceManager.exe" enable=yes localport=8427 protocol=UDP</programArguments>
                            <onErrorActionList>
                                <exit>
                                    <exitCode>179</exitCode>
                                </exit>
                            </onErrorActionList>
                        </runProgram>
                        <runProgram>
                            <program>netsh.exe</program>
                            <programArguments>advfirewall firewall add rule name="Shure Designer 6 - Device Management" dir=out action=allow program="${windows_folder_local_appdata}\shuregql-nodejs\Cache\phoenix-server\13.0.5-0\bin\Windows\x86_64\VS2019\Win10\ShureDeviceManager.exe" enable=yes localport=8427 protocol=UDP</programArguments>
                            <onErrorActionList>
                                <exit>
                                    <exitCode>179</exitCode>
                                </exit>
                            </onErrorActionList>
                        </runProgram>
                    </actionList>
                </actionGroup>
                <registryGet>
                    <key>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\VisualStudio\14.0\VC\Runtimes\X64</key>
                    <name>Version</name>
                    <variable>InstalledVCRuntimeVersion</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting InstalledVCRuntimeVersion</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </registryGet>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Installed VCRuntime version set to ${InstalledVCRuntimeVersion}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <actionGroup>
                    <explanation>FormatPreviousVersionOfRuntimeVersion</explanation>
                    <actionList>
                        <registryGet>
                            <key>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\VisualStudio\14.0\VC\Runtimes\X64</key>
                            <name>Major</name>
                            <variable>PreviousRuntimeMajor</variable>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting PreviousRuntimeMajor</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </registryGet>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Previous runtime major set to ${PreviousRuntimeMajor}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <registryGet>
                            <key>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\VisualStudio\14.0\VC\Runtimes\X64</key>
                            <name>Minor</name>
                            <variable>PreviousRuntimeMinor</variable>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting PreviousRuntimeMinor</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </registryGet>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Previous runtime minor set to ${PreviousRuntimeMinor}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <registryGet>
                            <key>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\VisualStudio\14.0\VC\Runtimes\X64</key>
                            <name>Bld</name>
                            <variable>PreviousRuntimeBld</variable>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting PreviousRuntimeBld</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </registryGet>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Previous runtime bld set to ${PreviousRuntimeBld}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <registryGet>
                            <key>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\VisualStudio\14.0\VC\Runtimes\X64</key>
                            <name>Rbld</name>
                            <variable>PreviousRuntimeRbld</variable>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting PreviousRuntimeRbld</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </registryGet>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Previous runtime rbld set to ${PreviousRuntimeRbld}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <setInstallerVariable>
                            <name>InstalledVCRuntimeVersion</name>
                            <value>${PreviousRuntimeMajor}.${PreviousRuntimeMinor}.${PreviousRuntimeBld}.${PreviousRuntimeRbld}</value>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting InstalledVCRuntimeVersion</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </setInstallerVariable>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Installed VCRuntime version set to ${InstalledVCRuntimeVersion}</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </actionList>
                    <ruleList>
                        <stringTest>
                            <text>${InstalledVCRuntimeVersion}</text>
                            <type>not_empty</type>
                        </stringTest>
                    </ruleList>
                </actionGroup>
                <getWindowsFileVersionInfo>
                    <path>${system_temp_directory}\${VCRuntimeExecutable}</path>
                    <type>version</type>
                    <variable>VCRuntimeNewVersionNumber</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting VCRuntimeNewVersionNumber</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </getWindowsFileVersionInfo>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>VCRuntime new version number set to ${VCRuntimeNewVersionNumber}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <createTimeStamp>
                    <format>%Y%m%d%h%M%s</format>
                    <variable>timestamp</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting timestamp</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </createTimeStamp>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>log timestamp set to ${timestamp}</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <setInstallerVariableFromScriptOutput>
                    <exec>${system_temp_directory}\${VCRuntimeExecutable}</exec>
                    <execArgs>/q /install /norestart /log "${installdir}\logs\${VCRuntimeExecutable}-${timestamp}.log"</execArgs>
                    <name>RuntimeExitCode</name>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error running RuntimeExitCode</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                    <ruleList>
                        <stringTest>
                            <text>${InstalledVCRuntimeVersion}</text>
                            <type>empty</type>
                        </stringTest>
                        <compareVersions>
                            <logic>less</logic>
                            <version1>${InstalledVCRuntimeVersion}</version1>
                            <version2>${VCRuntimeNewVersionNumber}</version2>
                        </compareVersions>
                    </ruleList>
                </setInstallerVariableFromScriptOutput>
                <setInstallerVariable>
                    <name>restartRequired</name>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <value>1</value>
                    <ruleList>
                        <compareValues>
                            <logic>equals</logic>
                            <value1>RuntimeExitCode</value1>
                            <value2>3010</value2>
                        </compareValues>
                        <compareValues>
                            <logic>equals</logic>
                            <value1>RuntimeExitCode</value1>
                            <value2>1641</value2>
                        </compareValues>
                    </ruleList>
                </setInstallerVariable>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Executes RuntimeExitCode if there is no InstalledVCRuntimeVersion, or if the installedVCRuntimeVersion is less than VCRuntimeNewVersionNumber</text>
                    <timeStampFormat></timeStampFormat>
                    <ruleList>
                        <stringTest>
                            <text>${InstalledVCRuntimeVersion}</text>
                            <type>empty</type>
                        </stringTest>
                        <compareVersions>
                            <logic>less</logic>
                            <version1>${InstalledVCRuntimeVersion}</version1>
                            <version2>${VCRuntimeNewVersionNumber}</version2>
                        </compareVersions>
                    </ruleList>
                </logMessage>
                <setInstallerVariableFromScriptOutput>
                    <exec>cmd.exe</exec>
                    <execArgs>/c start "" /wait "${system_temp_directory}\${FileExecutable}" /S &amp; echo %ERRORLEVEL%</execArgs>
                    <name>ExecutableOutput</name>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                </setInstallerVariableFromScriptOutput>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Executes electron installer and waits until it is done then continues with install builder installer</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <deleteFile>
                    <path>${system_temp_directory}\${FileExecutable}</path>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error deleting FileExecutable from system_temp_directory</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </deleteFile>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Deleting FileExecutable from system_temp_directory</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <deleteFile>
                    <path>${system_temp_directory}\${VCRuntimeExecutable}</path>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error deleting VCRuntimeExecutable from system_temp_directory</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </deleteFile>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Deleting VCRuntimeExecutable from system_temp_directory</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows-x64</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <actionGroup>
                    <explanation>Mac-Firewall</explanation>
                    <actionList>
                        <setInstallerVariable>
                            <name>application</name>
                            <show>0</show>
                            <value>Shure Designer Desktop.app</value>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error setting application</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                            <ruleList>
                                <platformTest>
                                    <type>osx</type>
                                </platformTest>
                            </ruleList>
                        </setInstallerVariable>
                        <logMessage>
                            <text>application set to ${application}</text>
                        </logMessage>
                        <setInstallerVariableFromScriptOutput>
                            <exec>defaults</exec>
                            <execArgs>read /Library/Preferences/com.apple.alf globalstate
</execArgs>
                            <name>EnabledFirewall</name>
                            <onErrorActionList>
                                <logMessage>
                                    <enableTimeStamp>0</enableTimeStamp>
                                    <text>Failed to run defaults read /Library/Preferences/com.apple.alf globalstate
</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </setInstallerVariableFromScriptOutput>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Checking if Firewall is enabled - defaults read /Library/Preferences/com.apple.alf globalstate</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <runProgram>
                            <program>sudo</program>
                            <programArguments>-u ${system_username} /usr/libexec/ApplicationFirewall/socketfilterfw --add "${installdir}/${application}"</programArguments>
                            <onErrorActionList>
                                <logMessage>
                                    <enableTimeStamp>0</enableTimeStamp>
                                    <text>Failed to run sudo -u ${system_username} /usr/libexec/ApplicationFirewall/socketfilterfw --add "${installdir}/${application}"</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                            <ruleList>
                                <compareText>
                                    <logic>contains</logic>
                                    <text>${EnabledFirewall}</text>
                                    <value>1</value>
                                </compareText>
                            </ruleList>
                        </runProgram>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Firewall is enabled adding to firewall - running sudo -u ${system_username} /usr/libexec/ApplicationFirewall/socketfilterfw --add "${installdir}/${application}"</text>
                            <timeStampFormat></timeStampFormat>
                            <ruleList>
                                <compareText>
                                    <logic>contains</logic>
                                    <text>${EnabledFirewall}</text>
                                    <value>1</value>
                                </compareText>
                            </ruleList>
                        </logMessage>
                    </actionList>
                    <ruleList>
                        <platformTest>
                            <type>osx</type>
                        </platformTest>
                    </ruleList>
                </actionGroup>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
    </readyToInstallActionList>
    <postInstallationActionList>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <text>

Entering Post-Installation Actions... 

</text>
            <timeStampFormat></timeStampFormat>
        </logMessage>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <actionGroup>
                    <explanation>RDF file association</explanation>
                    <actionList>
                        <runProgram>
                            <program>sudo</program>
                            <programArguments>
chmod +x /Applications/Shure/Designer/update_rdf.sh
</programArguments>
                        </runProgram>
                        <runProgram>
                            <program>${installdir}/update_rdf.sh</program>
                            <programArguments></programArguments>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error applying .rdf file association to Shure Designer Desktop</text>
                                </logMessage>
                            </onErrorActionList>
                        </runProgram>
                        <deleteFile>
                            <path>${installdir}/update_rdf.sh</path>
                        </deleteFile>
                    </actionList>
                </actionGroup>
                <changePermissions>
                    <files>${installer_installation_log}</files>
                    <permissions>0644</permissions>
                    <onErrorActionList>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Error setting log file permissions to 0644</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </changePermissions>
                <runProgram>
                    <program>sudo</program>
                    <programArguments>chown -R ${system_username} /Applications/Shure/Designer/Shure\ Designer\ Desktop.app</programArguments>
                </runProgram>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>win-x64</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>application</name>
                    <value>Shure Designer Desktop.exe</value>
                </setInstallerVariable>
                <associateWindowsFileExtension>
                    <extensions>.rdf</extensions>
                    <friendlyName>ShureDesigner</friendlyName>
                    <icon>${system_temp_directory}/dng-app-icon-64.icog</icon>
                    <mimeType></mimeType>
                    <progID>Shure.Audio.6</progID>
                    <commandList>
                        <command>
                            <makeDefault>1</makeDefault>
                            <runProgram>${windows_folder_local_appdata}\Programs\shure.designer-desktop\${application}</runProgram>
                            <runProgramArguments></runProgramArguments>
                            <verb>Open</verb>
                        </command>
                    </commandList>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error applying .rdf file association to Shure Designer Desktop</text>
                        </logMessage>
                    </onErrorActionList>
                </associateWindowsFileExtension>
            </actionList>
        </actionGroup>
    </postInstallationActionList>
    <postUninstallerCreationActionList>
        <setInstallerVariable>
            <name>restartRequired</name>
            <value>1</value>
        </setInstallerVariable>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <runProgram>
                    <program>sudo</program>
                    <programArguments> chown -R ${system_username} "${user_home_directory}/Library/Logs/Shure" &amp;&amp; chmod -R 0700 "${user_home_directory}/Library/Logs/Shure" </programArguments>
                    <onErrorActionList>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Error running sudo  chown -R ${system_username} "${user_home_directory}/Library/Logs/Shure" &amp;&amp; chmod -R 0700 "${user_home_directory}/Library/Logs/Shure" </text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </runProgram>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>final page config - normal</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>finish_title</name>
                    <value>Success!</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>finish_text</name>
                    <value>Setup has finished installing ${product_fullname} on your computer.</value>
                </setInstallerVariable>
                <actionGroup>
                    <explanation>finish upgrade screen config</explanation>
                    <actionList>
                        <setInstallerVariable>
                            <name>finish_text</name>
                            <value>Setup has finished upgrading ${product_fullname} on your computer.</value>
                        </setInstallerVariable>
                    </actionList>
                    <ruleList>
                        <compareValues>
                            <logic>equals</logic>
                            <value1>${project.installationType}</value1>
                            <value2>upgrade</value2>
                        </compareValues>
                    </ruleList>
                </actionGroup>
                <setInstallerVariable>
                    <name>finish_button</name>
                    <value>Finish</value>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${restartRequired}</value1>
                    <value2>0</value2>
                </compareValues>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>final page config - restart</explanation>
            <actionList>
                <setInstallerVariable>
                    <name>finish_title</name>
                    <value>Completing the ${product_fullname} Setup Wizard</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>finish_text</name>
                    <value>Restart the computer to complete the ${product_fullname} installation.</value>
                </setInstallerVariable>
                <actionGroup>
                    <explanation>finish upgrade screen config</explanation>
                    <actionList>
                        <setInstallerVariable>
                            <name>finish_text</name>
                            <value>Restart the computer to complete the ${product_fullname} upgrade.</value>
                        </setInstallerVariable>
                    </actionList>
                    <ruleList>
                        <compareValues>
                            <logic>equals</logic>
                            <value1>${project.installationType}</value1>
                            <value2>upgrade</value2>
                        </compareValues>
                    </ruleList>
                </actionGroup>
                <setInstallerVariable>
                    <name>finish_button</name>
                    <value>Restart</value>
                </setInstallerVariable>
            </actionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${restartRequired}</value1>
                    <value2>1</value2>
                </compareValues>
            </ruleList>
        </actionGroup>
    </postUninstallerCreationActionList>
    <preUninstallationActionList>
        <actionGroup>
            <explanation>win-x64</explanation>
            <ruleEvaluationLogic>or</ruleEvaluationLogic>
            <actionList>
                <actionGroup>
                    <explanation>win-x64 filter</explanation>
                    <actionList>
                        <showQuestion>
                            <default>yes</default>
                            <text>Would you like to remove Designer related Logs and User Preferences?</text>
                            <variable>UserSpecificFiles</variable>
                        </showQuestion>
                        <deleteFile>
                            <path>${windows_folder_appdata}\shure.designer-desktop\User\settings.json</path>
                            <ruleEvaluationLogic>or</ruleEvaluationLogic>
                            <ruleList>
                                <compareText>
                                    <logic>equals</logic>
                                    <text>${UserSpecificFiles}</text>
                                    <value>yes</value>
                                </compareText>
                            </ruleList>
                        </deleteFile>
                        <deleteFile>
                            <path>${windows_folder_appdata}\shure.designer-desktop\system-api\data\logs</path>
                            <ruleEvaluationLogic>or</ruleEvaluationLogic>
                            <ruleList>
                                <compareText>
                                    <logic>equals</logic>
                                    <text>${UserSpecificFiles}</text>
                                    <value>yes</value>
                                </compareText>
                            </ruleList>
                        </deleteFile>
                        <deleteFile>
                            <path>${windows_folder_appdata}\shure.designer-desktop\Local Storage\leveldb\MANIFEST-000001</path>
                            <ruleEvaluationLogic>or</ruleEvaluationLogic>
                            <ruleList>
                                <compareText>
                                    <logic>equals</logic>
                                    <text>${UserSpecificFiles}</text>
                                    <value>yes</value>
                                </compareText>
                            </ruleList>
                        </deleteFile>
                        <deleteFile>
                            <path>${windows_folder_local_appdata}\Shure\${product_fullname}\Logs\Installer</path>
                            <ruleList>
                                <compareText>
                                    <logic>equals</logic>
                                    <text>${UserSpecificFiles}</text>
                                    <value>yes</value>
                                </compareText>
                            </ruleList>
                        </deleteFile>
                        <setInstallerVariable>
                            <name>DesktopShortcutName</name>
                            <value>Shure Designer Desktop.lnk</value>
                        </setInstallerVariable>
                        <setInstallerVariable>
                            <name>ElectronDesktopShortcutName</name>
                            <value>Launch Shure Designer.lnk</value>
                        </setInstallerVariable>
                        <deleteFile>
                            <abortOnError>0</abortOnError>
                            <path>${windows_folder_desktopdirectory}/${DesktopShortcutName}</path>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error deleting installbuilder desktop shorcut</text>
                                </logMessage>
                            </onErrorActionList>
                            <ruleList>
                                <fileExists>
                                    <path>${windows_folder_desktopdirectory}/${DesktopShortcutName}</path>
                                </fileExists>
                            </ruleList>
                        </deleteFile>
                        <deleteFile>
                            <abortOnError>0</abortOnError>
                            <path>${windows_folder_desktopdirectory}/${ElectronDesktopShortcutName}</path>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error deleting electron desktop shorcut</text>
                                </logMessage>
                            </onErrorActionList>
                            <ruleList>
                                <fileExists>
                                    <path>${windows_folder_desktopdirectory}/${ElectronDesktopShortcutName}</path>
                                </fileExists>
                            </ruleList>
                        </deleteFile>
                    </actionList>
                    <ruleList>
                        <platformTest>
                            <type>windows-x64</type>
                        </platformTest>
                    </ruleList>
                </actionGroup>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows-10</type>
                </platformTest>
                <platformTest>
                    <type>windows</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <showQuestion>
                    <default>yes</default>
                    <text>Would you like to remove Designer related Logs and User Preferences?</text>
                    <variable>UserSpecificFiles</variable>
                </showQuestion>
                <deleteFile>
                    <path>${user_home_directory}/Library/Application Support/shure.designer-desktop/system-api/data/logs</path>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <ruleList>
                        <compareText>
                            <logic>equals</logic>
                            <text>${UserSpecificFiles}</text>
                            <value>yes</value>
                        </compareText>
                    </ruleList>
                </deleteFile>
                <deleteFile>
                    <path>${user_home_directory}/Library/Application Support/shure.designer-desktop/User/settings.json</path>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <ruleList>
                        <compareText>
                            <logic>equals</logic>
                            <text>${UserSpecificFiles}</text>
                            <value>yes</value>
                        </compareText>
                    </ruleList>
                </deleteFile>
                <deleteFile>
                    <path>${user_home_directory}/Library/Application Support/shure.designer-desktop/Local Storage/leveldb/MANIFEST-000001</path>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <ruleList>
                        <compareText>
                            <logic>equals</logic>
                            <text>${UserSpecificFiles}</text>
                            <value>yes</value>
                        </compareText>
                    </ruleList>
                </deleteFile>
                <deleteFile>
                    <path>${user_home_directory}/Library/Logs/Shure/${product_fullname}</path>
                    <ruleList>
                        <compareText>
                            <logic>equals</logic>
                            <text>${UserSpecificFiles}</text>
                            <value>yes</value>
                        </compareText>
                    </ruleList>
                </deleteFile>
                <setInstallerVariable>
                    <name>DesktopShortcutName</name>
                    <value>Desginer.app</value>
                </setInstallerVariable>
                <deleteFile>
                    <path>${user_home_directory}/Desktop/${DesktopShortcutName}</path>
                    <ruleList>
                        <fileExists>
                            <path>${user_home_directory}/Desktop/${DesktopShortcutName}</path>
                        </fileExists>
                    </ruleList>
                </deleteFile>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
    </preUninstallationActionList>
    <postUninstallationActionList>
        <actionGroup>
            <explanation>win-x64</explanation>
            <ruleEvaluationLogic>or</ruleEvaluationLogic>
            <actionList>
                <actionGroup>
                    <explanation>win-x64 filter</explanation>
                    <actionList>
                        <setInstallerVariableFromScriptOutput>
                            <exec>cmd.exe</exec>
                            <execArgs>/c start "" /wait "${windows_folder_local_appdata}\Programs\shure.designer-desktop\${UninstallFilename}" /S &amp; echo %ERRORLEVEL%</execArgs>
                            <name>ExecutableOutput</name>
                            <ruleEvaluationLogic>or</ruleEvaluationLogic>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error executing electron uninstaller, then once its done it continues with install builder uninstaller</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                            <ruleList>
                                <stringTest>
                                    <text>${PreviousVersion}</text>
                                    <type>not_empty</type>
                                </stringTest>
                            </ruleList>
                        </setInstallerVariableFromScriptOutput>
                        <createTimeStamp>
                            <format>%Y%m%d%H%M%S</format>
                            <variable>time</variable>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error creating timestamp</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </createTimeStamp>
                        <setInstallerVariable>
                            <name>logname</name>
                            <value>uninstaller_${time}.log</value>
                            <onErrorActionList>
                                <logMessage>
                                    <text>Error renaming log file</text>
                                    <timeStampFormat></timeStampFormat>
                                </logMessage>
                            </onErrorActionList>
                        </setInstallerVariable>
                        <setInstallerVariable>
                            <name>UninstallerLogFilePath</name>
                            <value>${windows_folder_local_appdata}\Shure\${product_fullname}\Logs\Installer</value>
                        </setInstallerVariable>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Uninstallation Completed</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                        <copyFile destination="${UninstallerLogFilePath}/${logname}" origin="${installer_installation_log}">
                            <ruleList>
                                <compareText>
                                    <logic>equals</logic>
                                    <text>${UserSpecificFiles}</text>
                                    <value>no</value>
                                </compareText>
                            </ruleList>
                        </copyFile>
                    </actionList>
                    <ruleList>
                        <platformTest>
                            <type>windows-x64</type>
                        </platformTest>
                    </ruleList>
                </actionGroup>
                <removeWindowsFileAssociation>
                    <extensions>.rdf</extensions>
                    <mimeType></mimeType>
                    <progID>Shure.Audio.6</progID>
                </removeWindowsFileAssociation>
                <actionGroup>
                    <explanation>Firewall Removal</explanation>
                    <actionList>
                        <runProgram>
                            <program>netsh.exe</program>
                            <programArguments>advfirewall firewall delete rule name="Shure Designer 6 - Device Management"</programArguments>
                        </runProgram>
                    </actionList>
                </actionGroup>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows-10</type>
                </platformTest>
                <platformTest>
                    <type>windows</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-common</explanation>
            <actionList>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Firewall removal:</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <runProgram>
                    <program>sudo</program>
                    <programArguments>-u root /usr/libexec/ApplicationFirewall/socketfilterfw --remove "${user_home_directory}/Library/Caches/shuregql-nodejs/phoenix-server/13.0.29-0/bin/OSX/Clang/10.15/ShureDeviceManager" </programArguments>
                    <onErrorActionList>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Failed to run sudo -u ${system_username} /usr/libexec/ApplicationFirewall/socketfilterfw --remove "${user_home_directory}/Library/Caches/shuregql-nodejs/phoenix-server/13.0.29-0/bin/OSX/Clang/10.15/ShureDeviceManager"</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </runProgram>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>FirewallRuleExists contains a rule for Designer, removed running sudo -u root /usr/libexec/ApplicationFirewall/socketfilterfw --remove "${user_home_directory}/Library/Caches/shuregql-nodejs/phoenix-server/13.0.29-0/bin/OSX/Clang/10.15/ShureDeviceManager"</text>
                    <timeStampFormat></timeStampFormat>
                    <ruleList>
                        <compareText>
                            <logic>contains</logic>
                            <text>${FireWallRuleExists}</text>
                            <value>${user_home_directory}/Library/Caches/shuregql-nodejs/phoenix-server/13.0.29-0/bin/OSX/Clang/10.15/ShureDeviceManager</value>
                        </compareText>
                    </ruleList>
                </logMessage>
                <setInstallerVariableFromScriptOutput>
                    <exec>sudo</exec>
                    <execArgs>-u ${system_username} defaults read com.apple.dock persistent-apps | grep file-label\" | awk -v app="Shure Designer Desktop" '$0 ~ app {print NR}'</execArgs>
                    <name>AppInDock</name>
                </setInstallerVariableFromScriptOutput>
                <actionGroup>
                    <explanation>Remove icon from dock</explanation>
                    <actionList>
                        <setInstallerVariableFromScriptOutput>
                            <exec>sudo</exec>
                            <execArgs>-u ${system_username} defaults read com.apple.dock persistent-apps | grep file-label\" | awk -v app="Shure Designer Desktop" '$0 ~ app {print NR}'</execArgs>
                            <name>AppDockNumber</name>
                        </setInstallerVariableFromScriptOutput>
                        <mathExpression>
                            <text>${AppDockNumber}-1</text>
                            <variable>AppDockNumber</variable>
                        </mathExpression>
                        <runProgram>
                            <program>/usr/libexec/PlistBuddy</program>
                            <programArguments> -c "Delete persistent-apps:${AppDockNumber}" ~/Library/Preferences/com.apple.dock.plist</programArguments>
                        </runProgram>
                        <runProgram>
                            <program>killall</program>
                            <programArguments>Dock</programArguments>
                        </runProgram>
                    </actionList>
                    <ruleList>
                        <stringTest>
                            <text>${AppInDock}</text>
                            <type>not_empty</type>
                        </stringTest>
                    </ruleList>
                </actionGroup>
                <changePermissions>
                    <files>${installer_installation_log}</files>
                    <permissions>0644</permissions>
                    <onErrorActionList>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Error setting log file permissions to 0644</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </changePermissions>
                <createTimeStamp>
                    <format>%Y%m%d%H%M%S</format>
                    <variable>time</variable>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error creating timestamp</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </createTimeStamp>
                <setInstallerVariable>
                    <name>logname</name>
                    <value>uninstaller_${time}.log</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error renaming log file</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>UninstallerLogFilePath</name>
                    <value>${user_home_directory}/Library/Logs/Shure/${product_fullname}</value>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error setting LogFilePath</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </setInstallerVariable>
                <changePermissions>
                    <files>${user_home_directory}/Library/Logs/Shure/${product_fullname}</files>
                    <permissions>0777</permissions>
                </changePermissions>
                <logMessage>
                    <enableTimeStamp>0</enableTimeStamp>
                    <text>Uninstallation Completed</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
                <copyFile destination="${UninstallerLogFilePath}/${logname}" origin="${installer_installation_log}">
                    <ruleList>
                        <compareText>
                            <logic>equals</logic>
                            <text>${UserSpecificFiles}</text>
                            <value>no</value>
                        </compareText>
                    </ruleList>
                </copyFile>
                <runProgram>
                    <abortOnError>0</abortOnError>
                    <program>sudo</program>
                    <programArguments> chown -R ${system_username} "${user_home_directory}/Library/Logs/Shure" &amp;&amp; chmod -R 0700 "${user_home_directory}/Library/Logs/Shure" </programArguments>
                    <showMessageOnError>0</showMessageOnError>
                    <onErrorActionList>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Error running sudo  chown -R ${system_username} "${user_home_directory}/Library/Logs/Shure" &amp;&amp; chmod -R 0700 "${user_home_directory}/Library/Logs/Shure" </text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </runProgram>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
    </postUninstallationActionList>
    <enableDebugger>1</enableDebugger>
    <enableRollback>0</enableRollback>
    <enableTimestamp>0</enableTimestamp>
    <installationLogFile>${LogFilePath}/${logname}</installationLogFile>
    <logFileTimeStampFormat>[%Y-%m-%dT%H:%M:%S]</logFileTimeStampFormat>
    <osxApplicationBundleIcon>icon/DNG.icns</osxApplicationBundleIcon>
    <osxApplicationBundleIdentifier>com.shure.designer-${InstallPackagePlatform}</osxApplicationBundleIdentifier>
    <osxPlatforms>osx-arm64</osxPlatforms>
    <osxUninstallerApplicationBundleIcon>icon/DNG.icns</osxUninstallerApplicationBundleIcon>
    <outputDirectory>${build_project_directory}/output</outputDirectory>
    <productDisplayIcon>${system_temp_directory}/dng-app-icon-64.ico</productDisplayIcon>
    <requireInstallationByRootUser>1</requireInstallationByRootUser>
    <saveRelativePaths>1</saveRelativePaths>
    <signWindowsUninstaller>1</signWindowsUninstaller>
    <vendor>Shure Incorporated</vendor>
    <windowsARPRegistryPrefix>${project.fullName} 6</windowsARPRegistryPrefix>
    <windowsExecutableIcon>icon/dng-app-icon-64.ico</windowsExecutableIcon>
    <windowsUninstallerExecutableIcon>icon/dng-app-icon-64.ico</windowsUninstallerExecutableIcon>
    <customLanguageFileList>
        <language>
            <code>en</code>
            <file>support/en.lng</file>
        </language>
    </customLanguageFileList>
    <finalPageActionList>
        <deleteFile>
            <path>${system_temp_directory}/Shure/Designer Rollback</path>
            <show>0</show>
        </deleteFile>
        <setInstallerVariable>
            <name>application</name>
            <show>0</show>
            <value>Shure\ Designer\ Desktop.app</value>
            <onErrorActionList>
                <logMessage>
                    <text>Error setting application</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </setInstallerVariable>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>application set to ${application}</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </logMessage>
        <setInstallerVariable>
            <name>CreateDesktopShortcut</name>
            <progressText>Create a desktop shortcut</progressText>
            <value>yes</value>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
            </ruleList>
        </setInstallerVariable>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>Creating shortcut to desktop</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${CreateDesktopShortcut}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
        </logMessage>
        <createShortcuts>
            <destination>${windows_folder_desktopdirectory}</destination>
            <show>0</show>
            <onErrorActionList>
                <logMessage>
                    <text>Error creating shortcut to desktop</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${CreateDesktopShortcut}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
            <shortcutList>
                <shortcut>
                    <comment>Launches ${project.fullName}</comment>
                    <exec></exec>
                    <icon></icon>
                    <name>Launch ${project.fullName}</name>
                    <path></path>
                    <platforms>all</platforms>
                    <runAsAdmin>1</runAsAdmin>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>${executable}</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon></windowsIcon>
                    <windowsPath></windowsPath>
                </shortcut>
            </shortcutList>
        </createShortcuts>
        <setInstallerVariable>
            <name>AddToStart</name>
            <progressText>Add to start menu</progressText>
            <value>yes</value>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
            </ruleList>
        </setInstallerVariable>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>Add to Start Menu</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${AddToStart}</text>
                    <value>yes</value>
                </compareText>
            </ruleList>
        </logMessage>
        <createShortcuts>
            <destination>${windows_folder_common_programs}\Designer</destination>
            <show>0</show>
            <onErrorActionList>
                <logMessage>
                    <text>Error adding to Start Menu</text>
                    <timeStampFormat></timeStampFormat>
                    <ruleList>
                        <platformTest>
                            <type>windows-x64</type>
                        </platformTest>
                    </ruleList>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${AddToStart}</text>
                    <value>yes</value>
                </compareText>
            </ruleList>
            <shortcutList>
                <shortcut>
                    <comment>Launches ${project.fullName}</comment>
                    <exec></exec>
                    <icon></icon>
                    <name>Launch ${project.fullName}</name>
                    <path></path>
                    <platforms>all</platforms>
                    <runAsAdmin>0</runAsAdmin>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>${executable}</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon></windowsIcon>
                    <windowsPath></windowsPath>
                </shortcut>
            </shortcutList>
        </createShortcuts>
        <setInstallerVariable>
            <name>RunExecutable</name>
            <progressText>Start Designer application</progressText>
            <value>yes</value>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${restartRequired}</value1>
                    <value2>0</value2>
                </compareValues>
            </ruleList>
        </setInstallerVariable>
        <setInstallerVariable>
            <name>RunExecutableRestart</name>
            <progressText>Start Designer Application After Restart</progressText>
            <value>yes</value>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${restartRequired}</value1>
                    <value2>1</value2>
                </compareValues>
            </ruleList>
        </setInstallerVariable>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>Run executable</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${RunExecutable}</text>
                    <value>yes</value>
                </compareText>
            </ruleList>
        </logMessage>
        <runProgram>
            <program>${executable}</program>
            <programArguments></programArguments>
            <progressText>Open Shure Designer Desktop</progressText>
            <show>0</show>
            <onErrorActionList>
                <logMessage>
                    <show>0</show>
                    <text>Error running executable</text>
                    <timeStampFormat></timeStampFormat>
                    <ruleList>
                        <platformTest>
                            <type>windows-x64</type>
                        </platformTest>
                        <compareText>
                            <logic>equals</logic>
                            <text>${AddToStart}</text>
                            <value>yes</value>
                        </compareText>
                    </ruleList>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${RunExecutable}</text>
                    <value>yes</value>
                </compareText>
            </ruleList>
        </runProgram>
        <registrySet>
            <key>HKCU\Software\Microsoft\Windows\CurrentVersion\RunOnce</key>
            <name>MyApplication</name>
            <show>0</show>
            <type>REG_SZ</type>
            <value>"${windows_folder_local_appdata}\Programs\shure.designer-desktop\Shure Designer Desktop.exe"</value>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${RunExecutableRestart}</text>
                    <value>yes</value>
                </compareText>
            </ruleList>
        </registrySet>
        <setInstallerVariable>
            <name>CreateDesktopShortcut</name>
            <progressText>Create desktop shortcut</progressText>
            <value>yes</value>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </setInstallerVariable>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>Creating Desktop shorcut</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${CreateDesktopShortcut}</text>
                    <value>yes</value>
                </compareText>
            </ruleList>
        </logMessage>
        <createSymLink linkName="${user_home_directory}/Desktop/Designer.app" target="${Installdir}/${executable}">
            <show>0</show>
            <onErrorActionList>
                <logMessage>
                    <show>0</show>
                    <text>Error creating Desktop shorcut</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <compareText>
                    <logic>equals</logic>
                    <text>${CreateDesktopShortcut}</text>
                    <value>yes</value>
                </compareText>
            </ruleList>
        </createSymLink>
        <setInstallerVariable>
            <name>AddToDock</name>
            <progressText>Add to Dock (Dock will restart)</progressText>
            <value>yes</value>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </setInstallerVariable>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>Adding to Dock</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${AddToDock}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
        </logMessage>
        <runProgram>
            <program>sudo</program>
            <programArguments>-u ${system_username} defaults write com.apple.dock persistent-apps -array-add '&lt;dict&gt;&lt;key&gt;tile-data&lt;/key&gt;&lt;dict&gt;&lt;key&gt;file-data&lt;/key&gt;&lt;dict&gt;&lt;key&gt;_CFURLString&lt;/key&gt;&lt;string&gt;/Applications/Shure/Designer/Shure Designer Desktop.app&lt;/string&gt;&lt;key&gt;_CFURLStringType&lt;/key&gt;&lt;integer&gt;0&lt;/integer&gt;&lt;/dict&gt;&lt;/dict&gt;&lt;/dict&gt;'</programArguments>
            <show>0</show>
            <onErrorActionList>
                <logMessage>
                    <show>0</show>
                    <text>Error adding to Dock</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${AddToDock}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
        </runProgram>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>Killing dock</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${AddToDock}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
        </logMessage>
        <runProgram>
            <program>killall</program>
            <programArguments>Dock</programArguments>
            <show>0</show>
            <onErrorActionList>
                <logMessage>
                    <show>0</show>
                    <text>Error killing dock</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${AddToDock}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
        </runProgram>
        <setInstallerVariable>
            <name>RunApplication</name>
            <progressText>Open Designer</progressText>
            <value>yes</value>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${restartRequired}</value1>
                    <value2>0</value2>
                </compareValues>
            </ruleList>
        </setInstallerVariable>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <show>0</show>
            <text>Running Application</text>
            <timeStampFormat></timeStampFormat>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${RunApplication}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
        </logMessage>
        <runProgram>
            <program>open</program>
            <programArguments>-a ${platform_install_prefix}/Shure/${project.ShortName}/${application}</programArguments>
            <show>0</show>
            <onErrorActionList>
                <logMessage>
                    <text>Error running application</text>
                    <timeStampFormat></timeStampFormat>
                </logMessage>
            </onErrorActionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${RunApplication}</value1>
                    <value2>yes</value2>
                </compareValues>
            </ruleList>
        </runProgram>
        <actionGroup progressText="Reboot Mac">
            <explanation>Reboot Mac</explanation>
            <show>0</show>
            <actionList>
                <runProgram>
                    <abortOnError>0</abortOnError>
                    <program>osascript</program>
                    <programArguments>-e "tell application \"Finder\" to restart"</programArguments>
                    <show>0</show>
                    <showMessageOnError>0</showMessageOnError>
                </runProgram>

                <!-- If using osascript failed, try using reboot -->

                <runProgram>
                    <program>reboot</program>
                    <programArguments></programArguments>
                    <show>0</show>
                    <ruleList>
                        <compareText>
                            <logic>does_not_equal</logic>
                            <text>${program_stderr}</text>
                            <value></value>
                        </compareText>
                    </ruleList>
                </runProgram>
            </actionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${restartRequired}</value1>
                    <value2>1</value2>
                </compareValues>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup progressText="Reboot Win">
            <explanation>Reboot Win</explanation>
            <show>0</show>
            <actionList>
                <shutdown>
                    <delay>3</delay>
                </shutdown>
            </actionList>
            <ruleList>
                <compareValues>
                    <logic>equals</logic>
                    <value1>${restartRequired}</value1>
                    <value2>1</value2>
                </compareValues>
                <platformTest>
                    <type>windows</type>
                </platformTest>
            </ruleList>
        </actionGroup>
    </finalPageActionList>
    <installationAbortedActionList>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <text>

Entering Installation Aborted Actions

</text>
            <timeStampFormat></timeStampFormat>
        </logMessage>
        <actionGroup>
            <progressText>Creating logfile location on error</progressText>
            <actionList>
                <createTimeStamp>
                    <format>%Y-%m-%d_%H-%M-%S</format>
                    <variable>time</variable>
                </createTimeStamp>
                <setInstallerVariable>
                    <name>logname</name>
                    <value>installer_${time}.log</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>LogFilePath</name>
                    <value>${windows_folder_local_appdata}\${project.vendor}\${product_fullname}\Logs\Installer</value>
                    <ruleList>
                        <platformTest>
                            <type>windows</type>
                        </platformTest>
                    </ruleList>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>LogFilePath</name>
                    <value>${user_home_directory}/Library/Logs/Shure/${product_fullname}</value>
                    <ruleList>
                        <platformTest>
                            <type>osx</type>
                        </platformTest>
                    </ruleList>
                </setInstallerVariable>
                <createDirectory>
                    <path>${LogFilePath}</path>
                </createDirectory>
                <copyFile>
                    <destination>${project.installationLogFile}</destination>
                    <origin>${installer_installation_log}</origin>
                </copyFile>
            </actionList>
        </actionGroup>
        <actionGroup>
            <explanation>win-x64</explanation>
            <actionList>
                <deleteFile>
                    <path>${system_temp_directory}\${FileExecutable}</path>
                </deleteFile>
                <deleteFile>
                    <path>${system_temp_directory}\${VCRuntimeExecutable}</path>
                    <ruleList>
                        <platformTest>
                            <type>windows-x64</type>
                        </platformTest>
                    </ruleList>
                </deleteFile>
                <removeWindowsFileAssociation>
                    <extensions>.rdf</extensions>
                    <mimeType></mimeType>
                    <progID>Shure.Audio.6</progID>
                </removeWindowsFileAssociation>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows-x64</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>Mac Rollback</explanation>
            <actionList>
                <deleteFile>
                    <path>${user_home_directory}/Library/Logs/Shure/Shure Designer</path>
                    <ruleList>
                        <fileExists>
                            <path>${user_home_directory}/Library/Logs/Shure/Shure Designer</path>
                        </fileExists>
                    </ruleList>
                </deleteFile>
                <deleteFile>
                    <path>${user_home_directory/Library/Application Support/shure.designer-desktop</path>
                    <ruleList>
                        <fileExists>
                            <path>${user_home_directory/Library/Application Support/shure.designer-desktop</path>
                        </fileExists>
                    </ruleList>
                </deleteFile>
                <copyFile>
                    <destination>${user_home_directory}/Library/Logs/Shure/</destination>
                    <origin>${system_temp_directory}/Shure/Designer Rollback/Logs/Shure Designer</origin>
                </copyFile>
                <copyFile>
                    <destination>${user_home_directory}/Library/Application Support/</destination>
                    <origin>${system_temp_directory}/Shure/Designer Rollback/Preferences/shure.designer-desktop</origin>
                </copyFile>
                <runProgram>
                    <explanation>delete app</explanation>
                    <program>sudo</program>
                    <programArguments>rm -rf "/Applications/Shure/Designer/Shure Designer Desktop.app"</programArguments>
                    <ruleList>
                        <fileExists>
                            <path>/Applications/Shure/Designer/Shure Designer Desktop.app</path>
                        </fileExists>
                    </ruleList>
                </runProgram>
                <runProgram>
                    <explanation>Remove firewall</explanation>
                    <program>sudo</program>
                    <programArguments>-u root /usr/libexec/ApplicationFirewall/socketfilterfw --remove "${user_home_directory}/Library/Caches/shuregql-nodejs/phoenix-server/13.0.29-0/bin/OSX/Clang/10.15/ShureDeviceManager" </programArguments>
                    <onErrorActionList>
                        <logMessage>
                            <enableTimeStamp>0</enableTimeStamp>
                            <text>Failed to run sudo -u ${system_username} /usr/libexec/ApplicationFirewall/socketfilterfw --remove "${user_home_directory}/Library/Caches/shuregql-nodejs/phoenix-server/13.0.29-0/bin/OSX/Clang/10.15/ShureDeviceManager"</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                </runProgram>
                <setInstallerVariableFromScriptOutput>
                    <exec>sudo</exec>
                    <execArgs>-u ${system_username} defaults read com.apple.dock persistent-apps | grep file-label\" | awk -v app="Shure Designer Desktop" '$0 ~ app {print NR}'</execArgs>
                    <name>AppInDock</name>
                </setInstallerVariableFromScriptOutput>
                <actionGroup>
                    <explanation>Remove icon from dock</explanation>
                    <actionList>
                        <setInstallerVariableFromScriptOutput>
                            <exec>sudo</exec>
                            <execArgs>-u ${system_username} defaults read com.apple.dock persistent-apps | grep file-label\" | awk -v app="Shure Designer Desktop" '$0 ~ app {print NR}'</execArgs>
                            <name>AppDockNumber</name>
                        </setInstallerVariableFromScriptOutput>
                        <mathExpression>
                            <text>${AppDockNumber}-1</text>
                            <variable>AppDockNumber</variable>
                        </mathExpression>
                        <runProgram>
                            <program>/usr/libexec/PlistBuddy</program>
                            <programArguments> -c "Delete persistent-apps:${AppDockNumber}" ~/Library/Preferences/com.apple.dock.plist</programArguments>
                        </runProgram>
                        <runProgram>
                            <program>killall</program>
                            <programArguments>Dock</programArguments>
                        </runProgram>
                    </actionList>
                    <ruleList>
                        <stringTest>
                            <text>${AppInDock}</text>
                            <type>not_empty</type>
                        </stringTest>
                    </ruleList>
                </actionGroup>
                <deleteFile>
                    <path>${user_home_directory}/Desktop/Designer.app</path>
                    <ruleList>
                        <fileExists>
                            <path>${user_home_directory}/Desktop/Designer.app</path>
                        </fileExists>
                    </ruleList>
                </deleteFile>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>Win Rollback</explanation>
            <actionList>
                <deleteFile>
                    <path>${windows_folder_local_appdata}\Shure\Shure Designer\Logs\installer</path>
                </deleteFile>
                <deleteFile>
                    <path>${windows_folder_appdata}/shure.designer-desktop</path>
                </deleteFile>
                <copyFile>
                    <destination>${windows_folder_appdata}</destination>
                    <origin>${system_temp_directory}/Shure/Designer Rollback/Preferences/shure.designer-desktop</origin>
                </copyFile>
                <copyFile>
                    <destination>${windows_folder_local_appdata}/Shure/Shure Designer/Logs</destination>
                    <origin>${system_temp_directory}/Shure/Designer Rollback/Logs/installer</origin>
                </copyFile>
                <setInstallerVariableFromScriptOutput>
                    <exec>cmd.exe</exec>
                    <execArgs>/c start "" /wait "${windows_folder_local_appdata}\Programs\shure.designer-desktop\${UninstallFilename}" /S &amp; echo %ERRORLEVEL%</execArgs>
                    <name>ExecutableOutput</name>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error executing electron uninstaller, then once its done it continues with install builder uninstaller</text>
                            <timeStampFormat></timeStampFormat>
                        </logMessage>
                    </onErrorActionList>
                    <ruleList>
                        <fileExists>
                            <path>${windows_folder_local_appdata}\Programs\shure.designer-desktop\Shure Designer Desktop.exe</path>
                        </fileExists>
                    </ruleList>
                </setInstallerVariableFromScriptOutput>
                <deleteFile>
                    <abortOnError>0</abortOnError>
                    <path>${windows_folder_desktopdirectory}/Shure Designer Desktop.lnk</path>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error deleting installbuilder desktop shorcut</text>
                        </logMessage>
                    </onErrorActionList>
                </deleteFile>
                <deleteFile>
                    <abortOnError>0</abortOnError>
                    <path>${windows_folder_desktopdirectory}/Launch Shure Designer.lnk</path>
                    <onErrorActionList>
                        <logMessage>
                            <text>Error deleting electron desktop shorcut</text>
                        </logMessage>
                    </onErrorActionList>
                </deleteFile>
                <runProgram>
                    <program>netsh.exe</program>
                    <programArguments>advfirewall firewall delete rule name="Shure Designer 6 - Device Management"</programArguments>
                </runProgram>
            </actionList>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <actionGroup>
            <explanation>mac-common</explanation>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </actionGroup>
        <logMessage>
            <enableTimeStamp>0</enableTimeStamp>
            <text>Installation Aborted.</text>
            <timeStampFormat></timeStampFormat>
        </logMessage>
    </installationAbortedActionList>
    <parameterList>
        <stringParameter>
            <name>FileExecutable</name>
            <description></description>
            <explanation></explanation>
            <value>Shure Designer Desktop-x64.exe</value>
            <default></default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>0</ask>
            <cliOptionShow>0</cliOptionShow>
            <width>40</width>
        </stringParameter>
        <stringParameter>
            <name>InstallPackagePlatform</name>
            <description></description>
            <explanation></explanation>
            <value>windows-x64</value>
            <default></default>
            <allowEmptyValue>1</allowEmptyValue>
            <ask>0</ask>
            <cliOptionShow>0</cliOptionShow>
            <width>40</width>
        </stringParameter>
        <directoryParameter>
            <name>installdir</name>
            <description>Installer.Parameter.installdir.description</description>
            <explanation>Installer.Parameter.installdir.explanation</explanation>
            <value></value>
            <default>${platform_install_prefix}/Shure/${project.ShortName}</default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>0</ask>
            <cliOptionName>prefix</cliOptionName>
            <cliOptionShow>0</cliOptionShow>
            <mustBeWritable>1</mustBeWritable>
            <mustExist>0</mustExist>
            <width>40</width>
        </directoryParameter>
        <stringParameter>
            <name>UninstallFilename</name>
            <description></description>
            <explanation></explanation>
            <value>Uninstall Shure Designer Desktop.exe</value>
            <default></default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>0</ask>
            <cliOptionShow>0</cliOptionShow>
            <width>40</width>
        </stringParameter>
        <stringParameter>
            <name>executable</name>
            <description></description>
            <explanation></explanation>
            <value>${windows_folder_local_appdata}\Programs\shure.designer-desktop\Shure Designer Desktop.exe</value>
            <default></default>
            <allowEmptyValue>1</allowEmptyValue>
            <ask>0</ask>
            <width>40</width>
        </stringParameter>
        <labelParameter>
            <name>DiskCheck</name>
            <title>Not enough hard drive space</title>
            <description>Hard drive free space: ${FreeDisk} GB
${product_fullname} install size: 5 GB

Make room on your hard drive and try proceeding again.
</description>
            <explanation>${product_fullname} needs an additional ${MissingGBs} GB of hard drive space to ${DiskCheckInstallType}.</explanation>
            <image></image>
            <insertAfter>welcome</insertAfter>
            <insertBefore>EULA</insertBefore>
            <postShowPageActionList>
                <exit>
                    <run>0</run>
                </exit>
            </postShowPageActionList>
            <preShowPageActionList>
                <getFreeDiskSpace>
                    <path>${installdir}</path>
                    <units>GB</units>
                    <variable>FreeDisk</variable>
                </getFreeDiskSpace>
                <mathExpression>
                    <text>5 - ${FreeDisk}</text>
                    <variable>MissingGBs</variable>
                </mathExpression>
                <setInstallerVariable>
                    <name>DiskCheckInstallType</name>
                    <value>install</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>DiskCheckInstallType</name>
                    <value>upgrade</value>
                    <ruleList>
                        <compareValues>
                            <logic>equals</logic>
                            <value1>${project.installationType}</value1>
                            <value2>upgrade</value2>
                        </compareValues>
                    </ruleList>
                </setInstallerVariable>
            </preShowPageActionList>
            <ruleList>
                <checkFreeDiskSpace>
                    <logic>less</logic>
                    <path>/</path>
                    <size>5</size>
                    <units>GB</units>
                </checkFreeDiskSpace>
            </ruleList>
            <validationActionList>
                <throwError>
                    <text>System does not meet the requirement of atleast 5GB to ${DiskCheckInstallType}</text>
                    <ruleList>
                        <compareValues>
                            <logic>greater</logic>
                            <value1>${MissingGBs}</value1>
                            <value2>0</value2>
                        </compareValues>
                    </ruleList>
                </throwError>
            </validationActionList>
        </labelParameter>
        <labelParameter>
            <name>EULA</name>
            <title>Eula</title>
            <description></description>
            <explanation>Placeholder page for EULA.</explanation>
            <image></image>
            <insertAfter>DiskCheck</insertAfter>
            <insertBefore>InstanceCheck</insertBefore>
            <postShowPageActionList>
                <setInstallerVariable>
                    <name>next_page</name>
                    <value>readytoinstall</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>next_page</name>
                    <ruleEvaluationLogic>or</ruleEvaluationLogic>
                    <value>InstanceCheck</value>
                    <ruleList>
                        <processTest>
                            <logic>is_running</logic>
                            <name>Shure Designer Desktop.exe</name>
                        </processTest>
                        <processTest>
                            <logic>is_running</logic>
                            <name>Shure Designer.exe</name>
                        </processTest>
                        <processTest>
                            <logic>is_running</logic>
                            <name>Shure Designer Desktop</name>
                        </processTest>
                    </ruleList>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>back_page</name>
                    <value>EULA</value>
                </setInstallerVariable>
            </postShowPageActionList>
            <preShowPageActionList>
                <setInstallerVariable>
                    <name>ui.button(back).text</name>
                    <value>&lt; Back</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>ui.button(next).text</name>
                    <value>Next &gt;</value>
                </setInstallerVariable>
            </preShowPageActionList>
        </labelParameter>
        <labelParameter>
            <name>InstanceCheck</name>
            <title>${product_fullname} is currently open</title>
            <description></description>
            <explanation>Quit any open instances and try again.</explanation>
            <image></image>
            <insertAfter>EULA</insertAfter>
            <insertBefore>readytoinstall</insertBefore>
            <leftImage>icon/leftImage.png</leftImage>
            <postShowPageActionList>
                <if>
                    <conditionRuleEvaluationLogic>or</conditionRuleEvaluationLogic>
                    <explanation>If Designer Is Open</explanation>
                    <actionList>
                        <setInstallerVariable>
                            <name>back_page</name>
                            <value>EULA</value>
                        </setInstallerVariable>
                        <showQuestion>
                            <default>yes</default>
                            <text>A version of ${product_fullname} is still open, would you like to force quit the application. Any unsaved work will be lost.</text>
                            <variable>ForceQuit</variable>
                        </showQuestion>
                        <actionGroup>
                            <explanation>ForceQuit Pressed</explanation>
                            <actionList>
                                <kill>
                                    <name>Shure Designer Desktop.exe</name>
                                    <showMessageOnError>0</showMessageOnError>
                                    <onErrorActionList>
                                        <logMessage>
                                            <text>Problem with killing running process</text>
                                            <timeStampFormat></timeStampFormat>
                                        </logMessage>
                                    </onErrorActionList>
                                    <ruleList>
                                        <processTest>
                                            <logic>is_running</logic>
                                            <name>Shure Designer Desktop.exe</name>
                                        </processTest>
                                    </ruleList>
                                </kill>
                                <kill>
                                    <name>Shure Designer.exe</name>
                                    <showMessageOnError>0</showMessageOnError>
                                    <onErrorActionList>
                                        <logMessage>
                                            <text>Problem with killing running process</text>
                                            <timeStampFormat></timeStampFormat>
                                        </logMessage>
                                    </onErrorActionList>
                                    <ruleList>
                                        <processTest>
                                            <logic>is_running</logic>
                                            <name>Shure Designer.exe</name>
                                        </processTest>
                                    </ruleList>
                                </kill>
                                <runProgram>
                                    <program>pkill</program>
                                    <programArguments> -x "Shure Designer Desktop"
</programArguments>
                                    <ruleList>
                                        <processTest>
                                            <logic>is_running</logic>
                                            <name>Shure Designer Desktop</name>
                                        </processTest>
                                    </ruleList>
                                </runProgram>
                            </actionList>
                            <ruleList>
                                <compareValues>
                                    <logic>equals</logic>
                                    <value1>${ForceQuit}</value1>
                                    <value2>yes</value2>
                                </compareValues>
                            </ruleList>
                        </actionGroup>
                        <setInstallerVariable>
                            <name>next_page</name>
                            <value>InstanceCheck</value>
                            <ruleList>
                                <compareValues>
                                    <logic>equals</logic>
                                    <value1>${ForceQuit}</value1>
                                    <value2>no</value2>
                                </compareValues>
                            </ruleList>
                        </setInstallerVariable>
                        <setInstallerVariable>
                            <name>next_page</name>
                            <value>readytoinstall</value>
                            <ruleList>
                                <compareValues>
                                    <logic>equals</logic>
                                    <value1>${ForceQuit}</value1>
                                    <value2>yes</value2>
                                </compareValues>
                            </ruleList>
                        </setInstallerVariable>
                        <setInstallerVariable>
                            <name>ui.button(next).text</name>
                            <value>Next &gt;</value>
                            <ruleList>
                                <compareValues>
                                    <logic>equals</logic>
                                    <value1>${ForceQuit}</value1>
                                    <value2>yes</value2>
                                </compareValues>
                            </ruleList>
                        </setInstallerVariable>
                    </actionList>
                    <conditionRuleList>
                        <processTest>
                            <logic>is_running</logic>
                            <name>Shure Designer Desktop.exe</name>
                        </processTest>
                        <processTest>
                            <logic>is_running</logic>
                            <name>Shure Designer.exe</name>
                        </processTest>
                        <processTest>
                            <logic>is_running</logic>
                            <name>Shure Designer Desktop</name>
                        </processTest>
                    </conditionRuleList>
                    <elseActionList>
                        <setInstallerVariable>
                            <name>next_page</name>
                            <value>readytoinstall</value>
                        </setInstallerVariable>
                        <setInstallerVariable>
                            <name>back_page</name>
                            <value>EULA</value>
                        </setInstallerVariable>
                        <setInstallerVariable>
                            <name>ui.button(back).text</name>
                            <value>&lt; Back</value>
                        </setInstallerVariable>
                        <setInstallerVariable>
                            <name>ui.button(next).text</name>
                            <value>Next &gt;</value>
                        </setInstallerVariable>
                    </elseActionList>
                </if>
            </postShowPageActionList>
            <preShowPageActionList>
                <setInstallerVariable>
                    <name>ui.button(back).text</name>
                    <value>&lt; Back</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>ui.button(next).text</name>
                    <value>Try Again</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>InstanceCheckShown</name>
                    <value>1</value>
                </setInstallerVariable>
            </preShowPageActionList>
        </labelParameter>
    </parameterList>
    <platformOptionsList>
        <platformOptions>
            <platform>osx</platform>
            <uninstallerDirectory>${installdir}</uninstallerDirectory>
        </platformOptions>
        <platformOptions>
            <platform>windows</platform>
        </platformOptions>
    </platformOptionsList>
</project>

